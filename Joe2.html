<head title="Joe's Number Game"></head>
<body onLoad="goJoe()">
<script type="text/javascript">

var onclick = function(ev)
{
	var mouseX = ev.pageX;
	var mouseY = ev.pageY;
	for(var i = 0; i < globButtons.buttonPositions.length;i++)
	{
		butPos = globButtons.buttonPositions[i];
		if(mouseX < butPos.x + butPos.width && mouseY < butPos.y + butPos.height && mouseX > butPos.x && mouseY > butPos.y)	
		{
				alert("you " + ev.type +"ed OMG!!!" + "x:" + ev.pageX + " y:" + ev.pageY + " value " + butPos.value);
		}
	}
}

var onresize = function(ev)
{
	console.log("event was " + ev.type);
	drawIt();
}

var goJoe = function()
{
	var a = document.getElementById ("JoeCanvas");
	a.addEventListener("click",onclick);
	a.addEventListener("resize",onresize);
	globButtons = pickNumbers(6)
	drawIt();
}

var drawIt = function()
{
	var a = document.getElementById ("JoeCanvas");
	var b = a.getContext("2d");
	var winWidth = window.innerWidth;
	var winHeight = window.innerHeight;
	console.log("width " + winWidth + " height " + winHeight);
	a.width = winWidth;
	a.height = winHeight;
	var numButtonsAcross = 6;
	var sideMargins = 10;
	var spaceBetween = 10;
	var size = (winWidth - (2 * sideMargins) - (spaceBetween * (numButtonsAcross - 1))) / numButtonsAcross;
	var distance = size + spaceBetween;
	var buttonBottomLine = winHeight / 16 * 13;
	var buttonTopLine = buttonBottomLine - size - 20;
	var buttonBottomLineText = buttonBottomLine + size / 2;
	var buttonTopLineText = buttonTopLine + size / 2;
	// Draw the buttons
	var ButtonNum = 0;
	var ButtonPos = [];
	while(ButtonNum < 6)
	{
		b.fillStyle = "#ff0000";
		b.fillRect(ButtonNum * distance + sideMargins,buttonTopLine,size,size);
		b.fillStyle = "#000000"
		b.font = "72px Blackadder";
		var n = ButtonNum * distance + sideMargins + size / 2;
		b.textAlign = "center";
		b.textBaseline = "middle";
		b.fillText (globButtons.operators[ButtonNum],n,buttonTopLineText);
		ButtonPos.push (
		{
			x: ButtonNum * distance + sideMargins,
			y: buttonTopLine,
			width: size,
			height: size,
			value: globButtons.operators[ButtonNum]
		}
		)

		b.fillStyle = "#99f35c"
		b.fillRect(ButtonNum * distance + sideMargins,buttonBottomLine,size,size);
		b.fillStyle = "#000000";
		b.font = "72px Blackadder";
		n = ButtonNum * distance + sideMargins + size / 2;
		b.textAlign = "center";
		b.textBaseline = "middle";
		b.fillText (globButtons.parts[ButtonNum],n,buttonBottomLineText);	

		ButtonPos.push (
		{
			x: ButtonNum * distance + sideMargins,
			y: buttonBottomLine,
			width: size,
			height: size,
			value: globButtons.parts[ButtonNum]

		}
		)

		ButtonNum ++;
	}
	globButtons.buttonPositions = ButtonPos
}

var pickNumbers = function(numNumbers)
{
	var Nums = [];
	Nums.push(Math.floor(Math.random() * 4 + 1) * 25);
	for (var i = 0; i < numNumbers - 1; i++)
	{
		Nums.push(Math.floor(Math.random() * 10 + 1));
	}

	var targetNumber = 
	{
		parts: Nums,
		operators: [ "+", "-", "*", "/", "?", "<-"],
		number: (Math.floor(Math.random() * 999 + 1))
	}

	return targetNumber; 
}

</script>
<canvas id = "JoeCanvas" width = "1000px" height = "1000px"></canvas>